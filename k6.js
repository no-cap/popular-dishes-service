/* eslint-disable import/no-unresolved */
import http from 'k6/http';
import { check, sleep } from 'k6';

const randomNum = (min, max) => Math.floor((Math.random() * (max - min) + min));

const getRandomElement = (array) => (array[randomNum(0, array.length)]);
const possibleRestaurantEndpoints = [
  '5e926c08cf3daa2ab8711f67',
  '5e926c08cf3daa2ab8711f86',
  '5e926c08cf3daa2ab8711f95',
  '5e926c08cf3daa2ab8711fa2',
  '5e926c08cf3daa2ab8711fac',
  '5e926c08cf3daa2ab8711fc0',
  '5e926c08cf3daa2ab8711fc6',
  '5e926c08cf3daa2ab8711fc7',
  '5e926c08cf3daa2ab8711fde',
  '5e926c08cf3daa2ab8711feb',
  '5e926c08cf3daa2ab8711ff4',
  '5e926c08cf3daa2ab8712015',
  '5e926c08cf3daa2ab871202a',
  '5e926c08cf3daa2ab871202b',
  '5e926c08cf3daa2ab8712041',
  '5e926c08cf3daa2ab871205d',
  '5e926c08cf3daa2ab871206b',
  '5e926c08cf3daa2ab871207b',
  '5e926c08cf3daa2ab871208a',
  '5e926c08cf3daa2ab87120a8',
  '5e926c08cf3daa2ab87120c6',
  '5e926c08cf3daa2ab87120e7',
  '5e926c08cf3daa2ab8712100',
  '5e926c08cf3daa2ab8712109',
  '5e926c08cf3daa2ab8712113',
  '5e926c08cf3daa2ab8712124',
  '5e926c08cf3daa2ab8712139',
  '5e926c08cf3daa2ab871214e',
  '5e926c08cf3daa2ab871215b',
  '5e926c08cf3daa2ab871216f',
  '5e926c08cf3daa2ab871217e',
  '5e926c08cf3daa2ab871218d',
  '5e926c08cf3daa2ab87121a0',
  '5e926c08cf3daa2ab87121a1',
  '5e926c08cf3daa2ab87121a8',
  '5e926c08cf3daa2ab87121b1',
  '5e926c08cf3daa2ab87121b9',
  '5e926c08cf3daa2ab87121d8',
  '5e926c08cf3daa2ab87121ef',
  '5e926c08cf3daa2ab87121f3',
  '5e926c08cf3daa2ab87121fc',
  '5e926c08cf3daa2ab871221f',
  '5e926c08cf3daa2ab8712231',
  '5e926c08cf3daa2ab8712243',
  '5e926c08cf3daa2ab8712250',
  '5e926c08cf3daa2ab8712251',
  '5e926c08cf3daa2ab8712257',
  '5e926c08cf3daa2ab8712265',
  '5e926c08cf3daa2ab8712272',
  '5e926c08cf3daa2ab871227c',
  '5e926c09cf3daa2ab87122a0',
  '5e926c09cf3daa2ab87122b0',
  '5e926c09cf3daa2ab87122c4',
  '5e926c09cf3daa2ab87122ca',
  '5e926c09cf3daa2ab87122e5',
  '5e926c09cf3daa2ab87122ed',
  '5e926c09cf3daa2ab87122fc',
  '5e926c09cf3daa2ab871230c',
  '5e926c09cf3daa2ab8712326',
  '5e926c09cf3daa2ab8712340',
  '5e926c09cf3daa2ab8712353',
  '5e926c09cf3daa2ab8712369',
  '5e926c09cf3daa2ab8712380',
  '5e926c09cf3daa2ab8712385',
  '5e926c09cf3daa2ab8712394',
  '5e926c09cf3daa2ab87123ad',
  '5e926c09cf3daa2ab87123b6',
  '5e926c09cf3daa2ab87123c2',
  '5e926c09cf3daa2ab87123cf',
  '5e926c09cf3daa2ab87123d4',
  '5e926c09cf3daa2ab87123d7',
  '5e926c09cf3daa2ab87123ed',
  '5e926c09cf3daa2ab87123f4',
  '5e926c09cf3daa2ab8712404',
  '5e926c09cf3daa2ab8712411',
  '5e926c09cf3daa2ab8712416',
  '5e926c09cf3daa2ab871242a',
  '5e926c09cf3daa2ab8712437',
  '5e926c09cf3daa2ab871244e',
  '5e926c09cf3daa2ab871245e',
  '5e926c09cf3daa2ab8712470',
  '5e926c09cf3daa2ab8712486',
  '5e926c09cf3daa2ab871248e',
  '5e926c09cf3daa2ab871249e',
  '5e926c09cf3daa2ab87124a7',
  '5e926c09cf3daa2ab87124a8',
  '5e926c09cf3daa2ab87124b4',
  '5e926c09cf3daa2ab87124bc',
  '5e926c09cf3daa2ab87124c2',
  '5e926c09cf3daa2ab87124cf',
  '5e926c09cf3daa2ab87124d0',
  '5e926c09cf3daa2ab87124d6',
  '5e926c09cf3daa2ab87124d7',
  '5e926c09cf3daa2ab87124ee',
  '5e926c09cf3daa2ab87124ef',
  '5e926c09cf3daa2ab87124f0',
  '5e926c09cf3daa2ab87124fd',
  '5e926c09cf3daa2ab8712519',
  '5e926c09cf3daa2ab871251a',
  '5e926c09cf3daa2ab871251b',
];

const possibleUserEndpoints = [
  '5e926d1478553d47283bd1ec',
  '5e926d1478553d47283bd1ed',
  '5e926d1478553d47283bd1ee',
  '5e926d1478553d47283bd1ef',
  '5e926d1478553d47283bd1f0',
  '5e926d1478553d47283bd1f1',
  '5e926d1478553d47283bd1f2',
  '5e926d1478553d47283bd1f3',
  '5e926d1478553d47283bd1f4',
  '5e926d1478553d47283bd1f5',
  '5e926d1478553d47283bd1f6',
  '5e926d1478553d47283bd1f7',
  '5e926d1478553d47283bd1f8',
  '5e926d1478553d47283bd1f9',
  '5e926d1478553d47283bd1fa',
  '5e926d1478553d47283bd1fc',
  '5e926d1478553d47283bd1fd',
  '5e926d1478553d47283bd1fe',
  '5e926d1478553d47283bd1ff',
  '5e926d1478553d47283bd200',
  '5e926d1478553d47283bd201',
  '5e926d1478553d47283bd202',
  '5e926d1478553d47283bd203',
  '5e926d1478553d47283bd204',
  '5e926d1478553d47283bd205',
  '5e926d1478553d47283bd206',
  '5e926d1478553d47283bd207',
  '5e926d1478553d47283bd208',
  '5e926d1478553d47283bd209',
  '5e926d1478553d47283bd20a',
  '5e926d1478553d47283bd20b',
  '5e926d1478553d47283bd20c',
  '5e926d1478553d47283bd20d',
  '5e926d1478553d47283bd20e',
  '5e926d1478553d47283bd210',
  '5e926d1478553d47283bd211',
  '5e926d1478553d47283bd212',
  '5e926d1478553d47283bd213',
  '5e926d1478553d47283bd214',
  '5e926d1478553d47283bd215',
  '5e926d1478553d47283bd216',
  '5e926d1478553d47283bd217',
  '5e926d1478553d47283bd218',
  '5e926d1478553d47283bd219',
  '5e926d1478553d47283bd21a',
  '5e926d1478553d47283bd21b',
  '5e926d1478553d47283bd21c',
  '5e926d1478553d47283bd21d',
  '5e926d1478553d47283bd21e',
  '5e926d1478553d47283bd21f',
  '5e926d1478553d47283bd220',
  '5e926d1478553d47283bd221',
  '5e926d1478553d47283bd222',
  '5e926d1478553d47283bd223',
  '5e926d1478553d47283bd225',
  '5e926d1478553d47283bd226',
  '5e926d1478553d47283bd227',
  '5e926d1478553d47283bd228',
  '5e926d1478553d47283bd229',
  '5e926d1478553d47283bd22a',
  '5e926d1478553d47283bd22b',
  '5e926d1478553d47283bd22c',
  '5e926d1478553d47283bd22d',
  '5e926d1478553d47283bd22e',
  '5e926d1478553d47283bd22f',
  '5e926d1478553d47283bd231',
  '5e926d1478553d47283bd232',
  '5e926d1478553d47283bd233',
  '5e926d1478553d47283bd234',
  '5e926d1478553d47283bd235',
  '5e926d1478553d47283bd236',
  '5e926d1478553d47283bd237',
  '5e926d1478553d47283bd238',
  '5e926d1478553d47283bd239',
  '5e926d1478553d47283bd23a',
  '5e926d1478553d47283bd23b',
  '5e926d1478553d47283bd23c',
  '5e926d1478553d47283bd23d',
  '5e926d1478553d47283bd23e',
  '5e926d1478553d47283bd23f',
  '5e926d1478553d47283bd240',
  '5e926d1478553d47283bd241',
  '5e926d1478553d47283bd242',
  '5e926d1478553d47283bd243',
  '5e926d1478553d47283bd244',
  '5e926d1478553d47283bd245',
  '5e926d1478553d47283bd246',
  '5e926d1478553d47283bd247',
  '5e926d1478553d47283bd248',
  '5e926d1478553d47283bd249',
  '5e926d1478553d47283bd24a',
  '5e926d1478553d47283bd24c',
  '5e926d1478553d47283bd24d',
  '5e926d1478553d47283bd24e',
  '5e926d1478553d47283bd24f',
  '5e926d1478553d47283bd250',
  '5e926d1478553d47283bd251',
  '5e926d1478553d47283bd252',
  '5e926d1478553d47283bd254',
  '5e926d1478553d47283bd255',
  '5e926d1478553d47283bd256',
  '5e926d1478553d47283bd257',
  '5e926d1478553d47283bd258',
  '5e926d1478553d47283bd259',
  '5e926d1478553d47283bd25a',
  '5e926d1478553d47283bd25b',
  '5e926d1478553d47283bd25c',
  '5e926d1478553d47283bd25d',
  '5e926d1478553d47283bd25e',
  '5e926d1478553d47283bd25f',
  '5e926d1478553d47283bd260',
  '5e926d1478553d47283bd261',
  '5e926d1478553d47283bd262',
  '5e926d1478553d47283bd263',
  '5e926d1478553d47283bd264',
  '5e926d1478553d47283bd266',
  '5e926d1478553d47283bd267',
  '5e926d1478553d47283bd268',
  '5e926d1478553d47283bd269',
  '5e926d1478553d47283bd26a',
  '5e926d1478553d47283bd26b',
  '5e926d1478553d47283bd26c',
  '5e926d1478553d47283bd26d',
  '5e926d1478553d47283bd26e',
  '5e926d1478553d47283bd26f',
  '5e926d1478553d47283bd270',
  '5e926d1478553d47283bd271',
  '5e926d1478553d47283bd272',
  '5e926d1478553d47283bd273',
  '5e926d1478553d47283bd274',
  '5e926d1478553d47283bd275',
  '5e926d1478553d47283bd276',
  '5e926d1478553d47283bd277',
  '5e926d1478553d47283bd278',
  '5e926d1478553d47283bd27b',
  '5e926d1478553d47283bd27c',
  '5e926d1478553d47283bd27d',
  '5e926d1478553d47283bd27e',
  '5e926d1478553d47283bd27f',
  '5e926d1478553d47283bd280',
  '5e926d1478553d47283bd282',
  '5e926d1478553d47283bd284',
  '5e926d1478553d47283bd285',
  '5e926d1478553d47283bd286',
  '5e926d1478553d47283bd289',
  '5e926d1478553d47283bd28a',
  '5e926d1478553d47283bd28b',
  '5e926d1478553d47283bd28c',
  '5e926d1478553d47283bd28d',
  '5e926d1478553d47283bd28e',
  '5e926d1478553d47283bd28f',
  '5e926d1478553d47283bd291',
  '5e926d1478553d47283bd292',
  '5e926d1478553d47283bd293',
  '5e926d1478553d47283bd294',
  '5e926d1478553d47283bd295',
  '5e926d1478553d47283bd296',
  '5e926d1478553d47283bd297',
  '5e926d1478553d47283bd298',
  '5e926d1478553d47283bd299',
  '5e926d1478553d47283bd29a',
  '5e926d1478553d47283bd29b',
  '5e926d1478553d47283bd29c',
  '5e926d1478553d47283bd29d',
  '5e926d1478553d47283bd29e',
  '5e926d1478553d47283bd29f',
  '5e926d1478553d47283bd2a0',
  '5e926d1478553d47283bd2a1',
  '5e926d1478553d47283bd2a2',
  '5e926d1478553d47283bd2a4',
  '5e926d1478553d47283bd2a5',
  '5e926d1478553d47283bd2a6',
  '5e926d1478553d47283bd2a7',
  '5e926d1478553d47283bd2a8',
  '5e926d1478553d47283bd2a9',
  '5e926d1478553d47283bd2aa',
  '5e926d1478553d47283bd2ab',
  '5e926d1478553d47283bd2ac',
  '5e926d1478553d47283bd2ad',
  '5e926d1478553d47283bd2ae',
  '5e926d1478553d47283bd2af',
  '5e926d1478553d47283bd2b0',
  '5e926d1478553d47283bd2b1',
  '5e926d1478553d47283bd2b2',
  '5e926d1478553d47283bd2b3',
  '5e926d1478553d47283bd2b4',
  '5e926d1478553d47283bd2b5',
  '5e926d1478553d47283bd2b6',
  '5e926d1478553d47283bd2b7',
  '5e926d1478553d47283bd2b9',
  '5e926d1478553d47283bd2ba',
  '5e926d1478553d47283bd2bb',
  '5e926d1478553d47283bd2bc',
  '5e926d1478553d47283bd2bd',
  '5e926d1478553d47283bd2be',
  '5e926d1478553d47283bd2bf',
  '5e926d1478553d47283bd2c0',
  '5e926d1478553d47283bd2c1',
  '5e926d1478553d47283bd2c3',
  '5e926d1478553d47283bd2c4',
  '5e926d1478553d47283bd2c5',
  '5e926d1478553d47283bd2c7',
  '5e926d1478553d47283bd2c8',
  '5e926d1478553d47283bd2c9',
  '5e926d1478553d47283bd2ca',
  '5e926d1478553d47283bd2cb',
  '5e926d1478553d47283bd2cc',
  '5e926d1478553d47283bd2cd',
  '5e926d1478553d47283bd2ce',
  '5e926d1478553d47283bd2cf',
  '5e926d1478553d47283bd2d0',
  '5e926d1478553d47283bd2d1',
  '5e926d1478553d47283bd2d2',
  '5e926d1478553d47283bd2d3',
  '5e926d1478553d47283bd2d4',
];

export const options = {
  stages: [
    { duration: '10s', target: 200},
    // { duration: '60s', target: 400 },
    // { duration: '60s', target: 600 },
    // { duration: '60s', target: 800 },
  ],
};

export default function () {
  const res = http.get(`http://localhost:3000/api/users/${getRandomElement(possibleUserEndpoints)}`);
  check(res, {
    'status was 200': (r) => r.status === 230,
    'transaction time OK': (r) => r.timings.duration < 2000,
  });
  sleep(1);
}
